{"remainingRequest":"F:\\xampp\\htdocs\\gridsome_git\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\xampp\\htdocs\\gridsome_git\\src\\components\\SearchInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\xampp\\htdocs\\gridsome_git\\src\\components\\SearchInput.vue","mtime":1570010872415},{"path":"F:\\xampp\\htdocs\\gridsome_git\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xampp\\htdocs\\gridsome_git\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\xampp\\htdocs\\gridsome_git\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xampp\\htdocs\\gridsome_git\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios'\r\nimport SearchFocus from './SearchFocus'\r\n\r\nexport default {\r\n  components: {\r\n    SearchFocus,\r\n  },\r\n  created() {\r\n    axios(this.$static.metadata.pathPrefix + \"/search.json\").then(response => {\r\n      this.posts = response.data\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      query: '',\r\n      results: [],\r\n      posts: [],\r\n      highlightedIndex: 0,\r\n      searchResultsVisible: false,\r\n      options: {\r\n        shouldSort: true,\r\n        includeMatches: true,\r\n        threshold: 0.5,\r\n        location: 0,\r\n        distance: 500,\r\n        maxPatternLength: 32,\r\n        minMatchCharLength: 1,\r\n        keys: ['title', 'summary']\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.query = ''\r\n      this.highlightedIndex = 0\r\n    },\r\n    softReset() {\r\n      this.highlightedIndex = 0\r\n      this.searchResultsVisible = true\r\n    },\r\n    performSearch() {\r\n      this.$search(this.query, this.posts, this.options).then(results => {\r\n        this.results = results\r\n      })\r\n    },\r\n    highlightPrev() {\r\n      if (this.highlightedIndex > 0) {\r\n        this.highlightedIndex = this.highlightedIndex - 1\r\n        this.scrollIntoView()\r\n      }\r\n    },\r\n    highlightNext() {\r\n      if (this.highlightedIndex < this.results.length - 1) {\r\n        this.highlightedIndex = this.highlightedIndex + 1\r\n        this.scrollIntoView()\r\n      }\r\n    },\r\n    scrollIntoView() {\r\n      this.$refs.results.children[this.highlightedIndex].scrollIntoView({ block: 'nearest' })\r\n    },\r\n    gotoLink() {\r\n      if (this.results[this.highlightedIndex]) {\r\n        window.location = this.results[this.highlightedIndex].item.path\r\n      }\r\n    },\r\n    focusSearch(e) {\r\n      if (e.key === '/') {\r\n        this.$refs.search.focus()\r\n      }\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["SearchInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchInput.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"relative\">\r\n    <search-focus @keyup=\"focusSearch\"></search-focus>\r\n\r\n    <div class=\"relative w-80\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search (Press  &quot;/&quot; to focus)\"\r\n        class=\"bg-background-form border border-gray-500 rounded-full px-4 pl-10 py-2 outline-none focus:border-green-500 w-80\"\r\n        v-model=\"query\"\r\n        @input=\"softReset\"\r\n        @keyup=\"performSearch\"\r\n        @keyup.esc=\"searchResultsVisible = false\"\r\n        @keydown.up.prevent=\"highlightPrev\"\r\n        @keydown.down.prevent=\"highlightNext\"\r\n        @keyup.enter=\"gotoLink\"\r\n        @blur=\"searchResultsVisible = false\"\r\n        @focus=\"searchResultsVisible = true\"\r\n        ref=\"search\"\r\n      >\r\n      <div class=\"absolute top-0 ml-3\" style=\"top:10px\">\r\n        <svg fill=\"currentColor\" class=\"text-gray-500 h-5 w-5\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path class=\"heroicon-ui\" d=\"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\"></path></svg>\r\n      </div>\r\n      <div\r\n        v-if=\"query.length > 0\"\r\n        class=\"absolute top-0 right-0 text-2xl mr-3 cursor-pointer text-gray-600 hover:text-gray-800\"\r\n        style=\"top:2px;\"\r\n        @click=\"reset\"\r\n      >\r\n        &times;\r\n      </div>\r\n    </div>\r\n    <transition name=\"fade\">\r\n      <div v-if=\"query.length > 0 && searchResultsVisible\" class=\"normal-case absolute border left-0 right-0 w-108 text-left mb-4 mt-2 rounded-lg shadow overflow-hidden z-10 overflow-y-auto\" style=\"max-height: 32rem\">\r\n        <div class=\"flex flex-col\" ref=\"results\">\r\n          <a\r\n            v-for=\"(post, index) in results\"\r\n            :key=\"index\"\r\n            :href=\"post.item.path\"\r\n            @click=\"reset\"\r\n            class=\"bg-background-form border-b border-gray-400 text-xl cursor-pointer p-4 search-hover\"\r\n            :class=\"{ 'search-highlighted' : index === highlightedIndex }\"\r\n          >\r\n            {{ post.item.title }}\r\n\r\n            <span class=\"block font-normal text-copy-primary text-sm my-1\">{{ post.item.summary }}</span>\r\n          </a>\r\n\r\n          <div v-if=\"results.length === 0\" class=\"bg-background-form font-normal w-full border-b cursor-pointer p-4\">\r\n            <p class=\"my-0\">No results for '<strong>{{ query }}</strong>'</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n\r\n<static-query>\r\n  {\r\n    metadata{\r\n      pathPrefix\r\n    }\r\n  }\r\n</static-query>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport SearchFocus from './SearchFocus'\r\n\r\nexport default {\r\n  components: {\r\n    SearchFocus,\r\n  },\r\n  created() {\r\n    axios(this.$static.metadata.pathPrefix + \"/search.json\").then(response => {\r\n      this.posts = response.data\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      query: '',\r\n      results: [],\r\n      posts: [],\r\n      highlightedIndex: 0,\r\n      searchResultsVisible: false,\r\n      options: {\r\n        shouldSort: true,\r\n        includeMatches: true,\r\n        threshold: 0.5,\r\n        location: 0,\r\n        distance: 500,\r\n        maxPatternLength: 32,\r\n        minMatchCharLength: 1,\r\n        keys: ['title', 'summary']\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.query = ''\r\n      this.highlightedIndex = 0\r\n    },\r\n    softReset() {\r\n      this.highlightedIndex = 0\r\n      this.searchResultsVisible = true\r\n    },\r\n    performSearch() {\r\n      this.$search(this.query, this.posts, this.options).then(results => {\r\n        this.results = results\r\n      })\r\n    },\r\n    highlightPrev() {\r\n      if (this.highlightedIndex > 0) {\r\n        this.highlightedIndex = this.highlightedIndex - 1\r\n        this.scrollIntoView()\r\n      }\r\n    },\r\n    highlightNext() {\r\n      if (this.highlightedIndex < this.results.length - 1) {\r\n        this.highlightedIndex = this.highlightedIndex + 1\r\n        this.scrollIntoView()\r\n      }\r\n    },\r\n    scrollIntoView() {\r\n      this.$refs.results.children[this.highlightedIndex].scrollIntoView({ block: 'nearest' })\r\n    },\r\n    gotoLink() {\r\n      if (this.results[this.highlightedIndex]) {\r\n        window.location = this.results[this.highlightedIndex].item.path\r\n      }\r\n    },\r\n    focusSearch(e) {\r\n      if (e.key === '/') {\r\n        this.$refs.search.focus()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .fade-enter-active, .fade-leave-active {\r\n    transition: opacity .2s;\r\n  }\r\n  .fade-enter, .fade-leave-to {\r\n    opacity: 0;\r\n  }\r\n</style>\r\n\r\n"]}]}